# -*- coding: utf-8 -*-
"""
Created on Wed Jan 22 15:13:46 2020

@author: jenniferwh
"""
import sys
import platform
if platform.system() == 'Linux':
    sys.path.append(r'/allen/programs/celltypes/workgroups/mousecelltypes/T503_Connectivity_in_Alzheimer_Mice/Jennifer/cluster_code/pbstools')
from pbstools import PythonJob
python_file = r"/allen/programs/celltypes/workgroups/mousecelltypes/T503_Connectivity_in_Alzheimer_Mice/Jennifer/cluster_code/cortical_projections/get_cortical_projection_coords.py"


jobdir = '/allen/programs/celltypes/workgroups/mousecelltypes/T503_Connectivity_in_Alzheimer_Mice/Jennifer/cluster_code/cluster_out'

job_settings = {'queue': 'celltypes',
                'jobdir': jobdir,
                'mem':'20g',
                'walltime':'8:00:00',
                }

'''
#wt, emx1, Rbp4
isids = [307297141, 180917660, 174360333, 100140949, 100141454, 272916202,
       113887162, 180296424, 180404418, 112596790, 272697944, 126861679,
       146858006, 180720175, 141603190, 100141563, 127866392, 146593590,
       127084296, 146858755, 100147853, 180709942, 307321674, 180709230,
       304586645, 112514202, 307558646, 112951804, 307320960, 180673746,
       180719293, 126908007, 157062358, 157654817, 307743253, 272737914,
       100141796, 139426984, 116903968, 112882565, 112935169, 141602484,
       100148503, 113887868, 180717881, 307557934, 112229103, 100148142,
       126909424, 309003780, 277712166, 146077302, 112952510, 304565427,
       277616630, 180718587, 114292355, 117298988, 114290938, 180074890,
       120437703, 126907302, 112373830, 277714322, 157556400, 307137980,
       309004492, 100141495, 112373124, 309113907, 127089669, 112881858,
       277713580, 307295727, 126862385, 585025284, 170721670, 307296433,
       112514915, 112595376, 112229814, 114250546, 112423392, 112306316,
       126852363, 100142655, 157711748, 112936582, 158314278, 127138787,
       158435116, 116903230, 120491896, 112458114, 307593747, 174361040,
       100149109, 100141219, 139519496, 272782668, 584903636, 139520203,
       100141599, 272916915, 180436360, 112424813, 115958825, 100141473,
       309372716, 100141780, 100140756, 100141273, 174361746, 157710335,
       180916954, 112162251, 180435652, 100149969, 126860974, 112791318,
       249402048, 500836840, 584194481, 523718823, 478376197, 500836105,
       294481346, 512315551, 657046319, 501483880, 166153483, 598605738,
       606929366, 593018150, 496554237, 522409371, 521600943, 501484658,
       526783054, 479981981, 647806688, 502966396, 518742338, 182803137,
       479673174, 512314723, 266249483, 500837552, 166055636, 125833030,
       272928602, 480994108, 606100558, 120916102, 574941472, 294482052,
       287769286, 501006221, 478491090, 530574594, 530555292, 579203888,
       576332845, 540145406, 572588941, 648253235, 272735030, 266250195,
       510834706, 286313491, 495562600, 583747816, 511550172, 503809372,
       584895127, 182793477, 482581199, 648252402, 657041814, 496113850,
       126117554, 646525997, 576341623, 536298726, 479755622, 518606617,
       183330908, 571100135, 182090318, 510417993, 479700629, 590988082,
       479701339, 479984127, 518605900, 583748537, 575782182, 272698650,
       524667618, 657172447, 596253012, 167794131, 592540591, 298179622,
       478376911, 166083557, 479982715, 554334685, 657334568, 168164230,
       502074651, 286482701, 272929308, 120875816, 166054929, 166082842,
       535692871, 563179067, 286314623, 496151571, 501115762, 603479758,
       156741826, 536299435, 657042668, 479983421, 501004474, 562061175,
       159753308, 562521707, 159832064, 576340889, 656959718, 562671482,
       297652799, 168163498, 121510421, 562520963, 593016678, 478582494,
       120814821, 303785454, 646525156, 479673887, 503323656, 298178204,
       286312782, 161458737, 168162771, 524874308, 648050335, 597007143,
       606785720, 482580380, 496576666, 661987195, 584511827, 479980810,
       510417255, 263106036, 485237081, 591535205, 249327301, 562674923,
       167902586, 524666904, 166082128, 263242463, 601476074, 183173527,
       656632388, 580150240, 598604288, 554421791, 479756361, 296048512,
       503069254]
#target-defined injections
isids = [475617622, 477435412, 475733382, 475828414, 475616836, 475829896,
       475830603, 478678606, 478877019, 478995566, 479115470, 483094671,
       484612961, 526783792, 521954271, 521955016, 527390805, 528328648,
       523704892, 496964969, 527393013, 524063357, 524267323, 527713883,
       527713163, 524266253, 521255975, 518605181, 521617657, 522274859,
       528511254, 528511967, 528512680, 528732005, 520615681, 525412369,
       523177830, 525413115, 528741104, 529435133, 529428776, 530000865,
       529129011, 531233132, 532005897, 592522663, 592724077, 553080579,
       552543088, 555012592, 561511939, 561512675, 561910766, 569932566,
       569993539, 571652998, 571401645, 572390577, 571816813, 572753855,
       570461017, 572595932, 572771153, 571410278, 573977678, 571647261,
       569623967, 567301515, 568502684, 569904687, 570071403, 573331541,
       575683857, 578332611, 595259180, 657424207, 601804603, 592698832,
       592698087, 601900484, 601885751, 601904029, 636799953, 649362978,
       651703553, 637855050, 664716091, 666090944, 604100536, 605093074,
       605092364, 607316031, 607289053, 606278526, 606260719, 605496542,
       607321130, 607052300, 607059419, 609475139, 609475867, 609157409,
       613898292, 614435699, 614738437, 616674416, 617898760, 617900105,
       623838656, 623286726, 617901499, 485553574, 495346667, 501785691,
       501787135, 501837158, 502590301, 502955689, 502956560, 504176074,
       501711996, 501786400, 502592260, 501883865, 518012479, 518013943,
       523180728, 515920693, 526784559, 531443949, 531397136, 536920234,
       539323512, 539511058, 539514325, 543297033, 544454674, 546389260,
       591394174, 560045081, 560029094, 560965104, 561307215, 561506791,
       561918178, 561918904, 561986735, 563205064, 563352720, 565146821,
       572388976, 574637452, 571653937, 591168591]
'''
# matched layer Cre
isids = [267749107, 142654100, 286774770, 159511623, 126860974, 139426984, 
         170721670, 286836394, 299829892, 299820770, 573331541, 293432575, 
         294434161, 519486602, 298230624, 478257959, 159330030, 656632388, 
         287225041, 180404418, 257636467, 526783792, 307557934, 297892130, 
         297627858, 576684233, 523714193, 614094233, 159319654, 168229820, 
         177907797, 127089669, 601476074, 520615681, 184168193, 301616660, 
         528963283, 510581751, 287223629, 266487079, 601804603, 297951732, 
         181819064, 592522663, 112458114, 277712166, 572595932, 158314278, 
         157909001, 146858006, 540146149, 183470468, 292209592, 180720175, 
         181180790, 526502961, 475733382, 158139883, 183374804, 166326736, 
         177783204, 120494024, 297592527, 141603190, 609475139, 514314707, 
         307321674, 176433237, 294481346, 159651060, 124060405, 183461297, 
         176429574, 182089608, 516273371, 572390577, 534175823, 566244185, 
         495875751, 617898760, 294525944, 303615412, 142656218, 184167484, 
         159322514, 177889243, 264076854, 496554237, 303616833, 286554724, 
         182794184, 529435133, 156784823, 495753765, 585051446, 161458737, 
         126190033, 180297139, 571401645, 516274127, 278069982, 521954271, 
         475828414, 482581199, 272736450, 607052300, 267705378, 159554010, 
         477435412, 520750912, 180074890, 166324604, 524874308, 561910766, 
         157556400, 267101850, 287769286, 292174974, 278258073, 475617622, 
         184075100, 159224478, 180917660, 146858755, 298757426, 543679575, 
         112672974, 478995566, 292374777, 126852363, 266412788, 287494320, 
         100140949, 278502708, 297628576, 177319974, 159550125, 531233132, 
         605092364, 177782493, 100149969, 482639810, 293821389, 561511939, 
         156395997, 614435699, 179640955, 126353451, 510835921, 157711043, 
         112514202, 171275617, 298272589, 528512680, 496252297, 292791310, 
         532005897, 287951098, 181860173, 159209586, 287807030, 174361746, 
         521955016, 166458363, 166269819, 166323186, 179641666, 482578964, 
         514313871, 156545918, 157769139, 286835688, 167902586, 287037604, 
         307558646, 288169842, 517078399, 484503464, 504099316, 579203888, 
         522274859, 524267323, 166461193, 522635991, 296052133, 156546627, 
         278317945, 297231636, 146593590, 506891241, 278068196, 297946154, 
         529692491, 544488964, 297710633, 157767683, 579409876, 561512675, 
         298325807, 475830603, 168003640, 278179794, 583747816, 100142655, 
         288171964, 287036898, 263780729, 159330754, 484612961, 268040381, 
         479085232, 286313491, 510848595, 166271142, 292124058, 543297033, 
         603208501, 552430870, 297654263, 597007858, 566454054, 496964969, 
         272822110, 297947641, 528732005, 266964788, 520996382, 158255941, 
         526924964, 294396492, 168164972, 265820216, 183471174, 268038969, 
         301583889, 293820681, 272414403, 649362978, 503018656, 527713883, 
         301580339, 523177830, 502140653, 479984127, 536920234, 277849965, 
         182467736, 264320859, 521255975, 297892843, 479115470, 159508775, 
         127866392, 495344543, 575683857, 503017948, 117298988, 156741826, 
         623838656, 177893658, 183471884, 522636747, 647806688, 126117554, 
         168165712, 184073678, 296052839, 184159706, 527393013, 166268376, 
         176497015, 585025284, 272737914, 120584036, 298274021, 495754475, 
         267660272, 287996596, 527575484, 181258571, 180719293, 166326029, 
         309515141, 180436360, 517962038, 605496542, 606278526, 283019341, 
         287995889, 539738599, 478582494, 159887627, 266175461, 523704892, 
         614738437, 156394513, 272781246, 286482701, 529428776, 298796577, 
         607289053, 298350212, 297233422, 477834984, 267704653, 528509838, 
         266963362, 603468246, 517072832, 146553971, 293889922, 159651770, 
         288171256, 657042668, 268038262, 592698087, 503809372, 294525229, 
         114752488, 585026021, 112306316, 183173527, 278174451, 113887868, 
         176430283, 139520203, 569623967, 298797288, 528511967, 524063357, 
         657041814, 292126180, 292318449, 267749821, 115956702, 170261951, 
         159551564, 528510546, 500836105, 113226232, 501787135, 642967852, 
         664716091, 267659565, 651703553, 517962765, 584194481, 168097187, 
         297854981, 180673746, 294484177, 168002073, 617901499, 520985971, 
         303614706, 576660608, 286314623, 263106036, 266644610, 511234217, 
         286648997, 591622344, 266486371, 288170549, 263781454, 546103149, 
         303582161, 478780588, 520012330, 521600217, 122642490, 182616478, 
         265929196, 292792016, 298106713, 478256439, 517077687, 569904687, 
         232311959, 530000865, 294516943, 283020912, 287880102, 166566678, 
         570071403, 297945448, 626107114, 506890448, 657172447, 298760261, 
         572588941, 525413115, 114250546, 592698832, 177319236, 278257366, 
         159888336, 297948420, 156671933, 530555292, 524266253, 166269090, 
         637855050, 485237081, 283017324, 483094671, 166459778, 483013787, 
         267750528, 584507699, 508889322, 475616836, 299782273, 293433283, 
         123664417, 127139568, 171276330, 526501457, 180709230, 501116471, 
         640081415, 299782983, 298352336]

for isid in isids:
    PythonJob(
        python_file,
        python_args= isid, 
        conda_env='drjigsaw3',
        jobname='ctx_proj_{}'.format(isid),
        **job_settings
    ).run(dryrun=False)
