import sys
import platform
if platform.system() == 'Linux':
    sys.path.append(r'/allen/programs/celltypes/workgroups/mousecelltypes/T503_Connectivity_in_Alzheimer_Mice/Jennifer/cluster_code/pbstools')

from pbstools import PythonJob

python_file = r"cluster_code/correlations/get_matched_td_correlations.py"


jobdir = 'cluster_code/cluster_out'

job_settings = {'queue': 'celltypes',
                'jobdir': jobdir,
                'mem':'50g',
                }

isids = [567301515, 477435412, 649362978, 607059419, 637855050, 475829896,
       607321130, 609475867, 528741104, 571401645, 475733382, 569932566,
       623286726, 607052300, 528511254, 475616836, 592698087, 605092364,
       592698832, 614435699, 524266253, 478995566, 484612961, 528511967,
       483094671, 528328648, 523704892, 525413115, 522274859, 527390805,
       528512680, 527393013, 530000865, 478877019, 521954271, 527713163,
       527713883, 529435133, 578332611, 528732005, 601900484, 571652998,
       569993539, 573977678, 572753855, 657424207, 601804603, 636799953,
       571816813, 572390577, 475617622, 524267323, 520615681, 479115470,
       617900105, 521955016, 523177830, 526783792, 532005897, 617898760,
       614738437, 575683857, 606260719, 609157409, 606278526, 496964969,
       607316031, 607289053, 609475139, 572595932, 573331541, 595259180,
       617901499, 604100536, 518605181, 529129011, 536920234, 475828414,
       475830603, 521255975, 524063357, 525412369, 531443949, 555012592,
       561307215, 561511939, 561512675, 561910766, 569904687, 570071403,
       571647261, 592522663, 592724077, 605496542, 616674416, 623838656,
       664716091, 666090944, 868641659, 900250452, 570461017, 601904029,
       521617657, 529428776, 569623967, 591394174, 478678606, 560045081,
       561986735, 591168591, 613898292, 651703553, 518013943, 571653937,
       501785691, 502590301, 502955689, 552543088, 553080579, 502956560,
       531397136, 504176074, 501883865, 523180728, 572388976, 560965104,
       560029094, 539514325, 495346667, 543297033, 501837158, 539323512,
       485553574, 526784559, 563205064, 539511058, 574637452, 501786400,
       501787135, 561918904, 502592260, 515920693, 561918178, 563352720,
       546389260, 501711996, 565146821, 568502684, 561506791, 605093074,
       571410278, 601885751, 572771153]

for isid in isids:
    PythonJob(
        python_file,
        python_args= isid, 
        conda_env='drjigsaw',
        jobname='corr_{}'.format(isid),
        **job_settings
    ).run(dryrun=False)
