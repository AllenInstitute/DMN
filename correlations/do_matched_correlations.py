import sys
import platform
if platform.system() == 'Linux':
    sys.path.append(r'/allen/programs/celltypes/workgroups/mousecelltypes/T503_Connectivity_in_Alzheimer_Mice/Jennifer/cluster_code/pbstools')

from pbstools import PythonJob

python_file = r"/allen/programs/celltypes/workgroups/mousecelltypes/T503_Connectivity_in_Alzheimer_Mice/Jennifer/cluster_code/correlations/get_matched_correlations_ctx_and_hipp.py"


jobdir = '/allen/programs/celltypes/workgroups/mousecelltypes/T503_Connectivity_in_Alzheimer_Mice/Jennifer/cluster_code/cluster_out'

job_settings = {'queue': 'celltypes',
                'jobdir': jobdir,
                'mem':'100g',
                }

isids = [601359621, 567301515,477435412,649362978,607059419,496965687,637855050,
         475829896,607321130,609475867,528741104,571401645,475733382,569932566,
         523481517,623286726,607052300,528511254,475616836,592698087,592698832,
         601900484,606278526,605092364,614435699,478995566,484612961,528511967,
         483094671,528328648,523704892,525413115,522274859,527390805,528512680,
         527393013,530000865,475616128,531233132,478877019,521954271,527713163,
         527713883,529435133,524266253,578332611,609475139,571652998,569993539,
         573977678,572753855,657424207,601804603,636799953,571816813,572390577,
         475617622,523457583,524267323,520615681,479115470,617900105,521955016,
         523177830,526783792,532005897,527711024,617898760,614738437,575683857,
         606260719,609157409,496964969,528732005,607289053,607316031,572595932,
         573331541,595259180,617901499,604100536,518605181,529129011,536920234,
         521255975,531443949,502005076,592522663,623838656,561307215,561511939,
         569904687,592724077,605496542,664716091,666090944,524063357,555012592,
         570071403,616674416,475828414,475830603,561512675,561910766,571647261,
         525412369,570461017,601904029,485929089,521617657,529428776,569623967,
         591394174,544454674,478678606,560045081,561986735,591168591,613898292,
         651703553,567723369,585931968,589064435,589065144,589322070,589398486,
         589399902,589702885,589726838,518013943,571653937,501785691,502590301,
         502955689,552543088,553080579,502956560,531397136,504176074,501883865,
         518012479,523180728,572388976,560965104,585022673,560029094,495877413,
         501923898,526515319,528964707,545799841,563731437,580594514,585761377,
         589397775,539514325,495346667,543297033,501837158,539323512,485553574,
         526784559,563205064,539511058,574637452,501786400,501787135,561918904,
         502592260,515920693,561918178,563352720,546389260,501711996,565146821,
         584651014,568502684,571410278,561506791,605093074,601885751,572771153,
         868641659,899585509,900249720,900250452]

for isid in isids:
    PythonJob(
        python_file,
        python_args= isid, 
        conda_env='drjigsaw3',
        jobname='corr_{}'.format(isid),
        **job_settings
    ).run(dryrun=False)